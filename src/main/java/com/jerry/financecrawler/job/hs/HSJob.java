package com.jerry.financecrawler.job.hs;import com.jerry.financecrawler.commons.CommonsCharset;import com.jerry.financecrawler.commons.CommonsUrl;import com.jerry.financecrawler.job.QuartzJob;import com.jerry.financecrawler.save.SaveData;import com.jerry.financecrawler.translate.howbuy.HtmlToFundProductVo;import com.jerry.financecrawler.translate.hs.HtmlToHSVo;import com.jerry.financecrawler.visitor.HtmlRequest;import com.jerry.financecrawler.vo.FundProductTotalVo;import com.jerry.financecrawler.vo.FundProductVo;import com.jerry.financecrawler.vo.HSVo;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import javax.annotation.Resource;import java.util.List;/** * Created by Jerry on 2015/9/17. */public class HSJob implements QuartzJob {    /**     * Logger     */    private static final Logger log = LoggerFactory.getLogger(HSJob.class);    private static final String baseUrl = CommonsUrl.HS_URL;    private static final String charset = CommonsCharset.GB2312;    @Resource    private HtmlRequest htmlRequest;    @Resource    private HtmlToHSVo htmlToHSVo;    @Resource    private SaveData saveData;    @Override    public void execute() {        log.info("HS300 采集服务启动");        try {            getHtmlData();        } catch (Exception ex) {            ex.printStackTrace();            log.error("dealing HSJob data", ex);        }        log.info("HS300 采集服务完成");    }    private HSVo getHtmlData() throws Exception {        String url =baseUrl;        String html = htmlRequest.getHtmlData(url, charset);        HSVo hsVo = null;        if (!html.equals("")) {            hsVo = htmlToHSVo.parseToHSData(html);            if (hsVo != null) {                saveData.saveHSData(hsVo);            }        }        return hsVo;    }}